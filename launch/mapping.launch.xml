<launch>
    <arg name="sensor_type" default="imu-monocular"/>
    <arg name="use_pangolin" default="true"/>
    <arg name="use_live_feed" default="true"/>
    <arg name="video_name" default="default.mp4"/>
    <arg name="bag_name" default="changeme"/>
    <include file="$(find-pkg-share realsense2_camera)/launch/rs_launch.py" if="$(eval '\'$(var use_live_feed)\' == \'true\'')">
        <arg name="rgb_camera.color_profile" value="640x480x30"/>
        <arg name="enable_accel" value="true"/>
        <arg name="enable_gyro" value="true"/>
        <arg name="unite_imu_method" value="2"/>
        <arg name="enable_depth" value="false"/>
    </include>
    <node pkg="orb_slam3_ros2" exec="imu_mono_node_cpp" output="screen">
        <param name="sensor_type" value="$(var sensor_type)"/>
        <param name="use_pangolin" value="true"/>
        <param name="use_live_feed" value="$(var use_live_feed)"/>
        <param name="video_name" value="$(var video_name)"/>
    </node>
    <executable cmd="ros2 bag play $(find-pkg-share orb_slam3_ros2)/bags/$(var bag_name)" if="$(eval '\'$(var bag_name)\' == \'changeme\'')"/>
</launch>
